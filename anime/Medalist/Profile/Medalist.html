<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Medalist - تعريف الأنمي">
    <title>Medalist - تعريف الأنمي</title>
    <link rel="stylesheet" href="../../../CSS/Profile.css">
    <link rel="stylesheet" href="../../../CSS/style.css">
    <link rel="icon" href="https://abdo12249.github.io/1/navbar/favicon.ico" type="image/x-icon">
</head>

<body>
    <div id="navbar-container"></div>
    <div class="container">
        <h1 class="anime-title" id="animeTitle">Medalist</h1>

        <button id="saveButton" class="not-saved">إضافة للمفضلة</button>
        
        <div class="content-wrapper">
            <div class="anime-image">
                <img id="animeImage" src="../../../images/Medalist.WebP" alt="صورة أنمي Medalist">
            </div>
            <div class="anime-info">
                <div class="info-item">
                    <strong>التصنيف:</strong>
                    <div id="categoryButtons"></div> <!-- سيتم إضافة الأزرار هنا ديناميكيًا -->
                </div>

                <div class="info-item">
                    <strong>النوع:</strong> TV
                </div>

                <div class="info-item">
                    <strong>حالة الأنمي:</strong>
                    <button class="icon-button1"><a href="../../../tag/wep/مستمر.html">مستمر</a></button> 
                </div>

                <div class="info-item">
                    <strong>عدد الحلقات:</strong> 14
                </div>

                <div class="info-item">
                    <strong>مدة الحلقة:</strong> 24 دقيقة
                </div>

                <div class="info-item">
                    <strong>الموسم:</strong>
                    <button class="icon-button1"><a href="../../../navbar/الموسم/الشتاء 2025/الشتاء 2025.html">الشتاء 2025</a></button>
                </div>

                <div class="info-item">
                    <strong>المصدر:</strong> مانجا
                </div>
            </div>
        </div>

        <div class="story">
            <h2>القصة:</h2>
            <p>
                بعد أن تم رفضها بشكل عدواني، تجد “مومو أياسي” نفسها تتذمر عندما تعثر على فتى يتعرض للتنمر.
                يتم إنقاذه بفضل لُطفها الجارف، ليحاول الفتى المهووس بالأمور الخارقة التحدث معها حول اهتماماته الخارقة
                التي يعتقد أنهما يشتركان فيها. رفضت “أياسي” تلك المزاعم، وأعلنت أنها بدلاً من ذلك تؤمن بالأشباح، مما
                أدى إلى نشوب جدال بينهما حول أيهما هو الحقيقي. في محاولة لتحديد الصحيح، قرر الاثنان زيارة أماكن تتعلق
                بالأمور الخارقة والخارقة لكل منهما بشكل منفصل، “أياسي” تزور الأماكن المرتبطة بالفضائيين، بينما يزور
                الفتى الأماكن المرتبطة بالأشباح. وعندما يصل الاثنان إلى أماكنهما المختارة، يتضح أن أيًا منهما لم يكن
                مخطئًا، وأن كل من الأمور الخارقة، الفضائيين والأشباح، حقيقية! وبهذا تبدأ مغامرة “أياسي” والفتى، حيث
                يحاولون إصلاح العناصر الخارقة والخيالية من حولهم للعودة إلى حياة طبيعية.
            </p>
        </div>

        <div class="episodes-section">
            <h2>حلقات الأنمي:</h2>
            <div class="episodes-grid" id="episodesGrid"></div>
        </div>
    </div>

    <!-- ✅ كود JavaScript لتحميل التصنيفات -->
    <script>
        async function loadAnimeCategories() {
            try {
                const response = await fetch('../../../jave/naruto.json'); // تأكد من المسار الصحيح للملف
                if (!response.ok) throw new Error("فشل تحميل بيانات الأنمي");

                const animeData = await response.json();

                // توليد أزرار التصنيفات
                const categoryButtons = document.getElementById('categoryButtons');
                animeData.categories.forEach(category => {
                    const button = document.createElement('button');
                    button.className = "icon-button1";
                    button.innerHTML = `<a href="../../../category.html?category=${encodeURIComponent(category)}">${category}</a>`;
                    categoryButtons.appendChild(button);
                });
            } catch (error) {
                console.error('❌ خطأ في تحميل بيانات التصنيفات:', error);
            }
        }

        // تحميل التصنيفات عند فتح الصفحة
        loadAnimeCategories();
    </script>

    <!-- ✅ تحميل الحلقات من ملف JSON -->
    <script>
        fetch('../../../tag/jave/Medalist.json')
            .then(response => response.json())
            .then(episodes => {
                const episodesGrid = document.getElementById('episodesGrid');
                episodes.forEach(episode => {
                    const episodeItem = document.createElement('a');
                    episodeItem.className = 'episode-item';
                    episodeItem.href = episode.link;
                    episodeItem.innerHTML = `
                        <img src="${episode.image}" alt="الحلقة ${episode.number}">
                        <div class="episode-number">الحلقة ${episode.number}</div>
                    `;
                    episodesGrid.appendChild(episodeItem);
                });
            })
            .catch(error => console.error('❌ خطأ في تحميل الحلقات:', error));
    </script>

    <!-- ✅ تحميل الشريط العلوي -->
    <script>
        fetch('../../../navbar.html')
            .then(response => response.text())
            .then(data => document.getElementById('navbar-container').innerHTML = data);
    </script>
</body>
</html>
