from github import Github
import base64
import os

# بيانات المستخدم
access_token = "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"
repo_name = "abdo12249/1"
local_folder_path = "D:/script/creat HTMAL"
upload_base_path = "anime"  # المجلد داخل الريبو

parent_local_folder = os.path.dirname(local_folder_path)  # المجلد الأب لـ "creat HTMAL"

# الاتصال بـ GitHub
g = Github(access_token)
repo = g.get_repo(repo_name)

def upload_file(local_path, remote_path):
    with open(local_path, "rb") as f:
        content = f.read()
        encoded = base64.b64encode(content).decode()

    try:
        # محاولة الحصول على محتوى الملف داخل الريبو
        contents = repo.get_contents(remote_path, ref="main")
        # الملف موجود، نقوم بالتحديث
        repo.update_file(remote_path, "تحديث الملف عبر Python", encoded, contents.sha, branch="main")
        print(f"✅ تم تحديث الملف: {remote_path}")
    except Exception as e:
        # إذا لم يوجد الملف (عادة 404) نقوم بالرفع كملف جديد
        # يمكن أن يكون هناك أخطاء أخرى، لذلك نطبع الخطأ لو غير 404
        if "404" in str(e):
            repo.create_file(remote_path, "رفع ملف جديد عبر Python", encoded, branch="main")
            print(f"✅ تم رفع ملف جديد: {remote_path}")
        else:
            print(f"❌ خطأ أثناء التعامل مع الملف {remote_path}: {e}")

# المرور على كل الملفات داخل المجلد المحلي
for root, dirs, files in os.walk(local_folder_path):
    for file in files:
        full_local_path = os.path.join(root, file)

        # نحسب المسار النسبي من مجلد الأب (D:/script)
        relative_path = os.path.relpath(full_local_path, parent_local_folder)

        # بناء مسار الرفع داخل الريبو
        remote_path = f"{upload_base_path}/{relative_path}".replace("\\", "/")

        upload_file(full_local_path, remote_path)
